# Production Environment Configuration

# Backend Configuration
PORT=5000
# TODO: Move to Coolify Secrets for better security
SECRET_KEY=super-secure-video-processor-2024-ultra-strong-key-xyz789abc123def456ghi789jkl012mno345pqr678stu901vwx234yz
DEBUG=false
FLASK_ENV=production

# File Upload Configuration
UPLOAD_FOLDER=/data/uploads
OUTPUT_FOLDER=/data/outputs
MAX_CONTENT_LENGTH=524288000

# Optional: Google API Key (if needed for future features)
# GOOGLE_API_KEY=your-google-api-key-here

# Frontend Configuration (will be set by Coolify)
# API_BASE=https://your-domain.com

# Security Headers (update with your actual domain)
# TODO: Update to your final production domain
FLASK_CORS_ORIGINS=https://ooc4wcggkoowkws8kkks0cgo.coolify.khaledalnassan.com

# Performance Settings - Ultra Fast Mode
GUNICORN_WORKERS=3
GUNICORN_THREADS=8
GUNICORN_TIMEOUT=600
GUNICORN_KEEPALIVE=5

# تحسين Gunicorn ضد تسريب الذاكرة
GUNICORN_MAX_REQUESTS=500
GUNICORN_MAX_REQUESTS_JITTER=50

# لوج فوري
PYTHONUNBUFFERED=1

# Video Processing Optimization - ديناميكي حسب الأنوية
# FFMPEG_THREADS=8  # اتركه غير محدد ليديره FFmpeg تلقائياً أو اضبطه لعدد الأنوية
VIDEO_QUALITY=ultrafast
GPU_ACCELERATION=true

# Celery Optimization - محسن للاستقرار
CELERY_CONCURRENCY=3
CELERY_PREFETCH_MULTIPLIER=1

# حدود Celery لعدم ضياع المهام (طابقها مع الكود)
CELERY_VISIBILITY_TIMEOUT=21600
TASK_SOFT_TIME_LIMIT=18000
TASK_TIME_LIMIT=21600

# Worker Mode (leave empty for API, set to "celery" for worker)
WORKER_MODE=

# Redis Configuration (enable for async processing)
# For Coolify: REDIS_URL=redis://default:YOUR_REDIS_PASSWORD@redis-database-xxx:6379/0
# Update the password and service name from your Coolify Redis service
REDIS_URL=redis://default:ed6o6szgcP2VomP2rOO3NxOzAUDocmaUoq19gjC3ynG58o1MAW7mqy6GNlKXG6tC@redis-database-vk0kg0g0kkg0gkwcs4k4w4:6379/0
